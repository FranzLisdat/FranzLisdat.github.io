<script src="https://cdn.jsdelivr.net/npm/darkmode-js@1.5.7/lib/darkmode-js.min.js"></script>

<div class="navbar">
    <div class="container-nav" >
        <a class="logo" href="index.html">Franz <span class="logoLisdat">Lisdat</span></a>

        <img id="mobile-menu-burger-button" class="mobile-menu" src="images/menu.svg" alt="open-navigation">
      
        <nav id="nav-id" class="hide-mobile-nav">
            <img src="images/exit.svg" id="mobile-exit" class="mobile-menu-exit" alt="exit-navigation">
            <div class="mobile-nav-both-sections"> 
                <ul>
                    <li>
                        <ul class="primary-nav">
                            <li id="index"><a href="/index.html">Home</a></li>
                            <li id="agent"><a href="/agent.html">Agent</a></li>
                            <li id="kontakt"><a href="/index.html">Kontakt</a></li>
                        </ul>
                    </li>
                    <ul class="secondary-nav">
                        <li><a href="index.html">DE/EN</a></li>
                        <li><button class="light-dark-button" id="light-dark-button">DarkMode</button></li>
                    </ul>
                </ul>
            </div>
        </nav>
    </div>
</div>

<script>

    $('a').click(function(e){
        redirect = $(this).attr('href');
        e.preventDefault();
        if (document.querySelector("nav").classList.contains("show-mobile-nav")){
            document.querySelector("nav").classList.remove("show-mobile-nav");
            document.querySelector("nav").classList.add("hide-mobile-nav");
        }
       
        $(document.getElementById("all-except-nav")).fadeOut(400, function(){
            document.location.href = redirect
        });
    });





    // fürs highlighten des Textes im Nav
    var path = window.location.pathname;

    if (path == "/index.html"){
        document.getElementById("index").classList.add("current");
    } else if (path == "/agent.html" || path == "/agent-optionen.html" || path == "/agent-start.html") {
        document.getElementById("agent").classList.add("current");
    }


    // DarkMode
    document.getElementById("light-dark-button").onclick = startFunktion;
    const darkmode = new Darkmode;

    if (darkmode.isActivated()) {
        document.getElementById("mobile-menu-burger-button").classList.add("custom-darkmode");
        document.getElementById("nav-id").classList.add("custom-darkmode");
    } else {
        document.getElementById("mobile-menu-burger-button").classList.remove("custom-darkmode");
        document.getElementById("nav-id").classList.remove("custom-darkmode");
    }
    function startFunktion(){
        if (darkmode.isActivated()) {
            document.getElementById("mobile-menu-burger-button").classList.remove("custom-darkmode");
            document.getElementById("nav-id").classList.remove("custom-darkmode");
        } else {
            document.getElementById("mobile-menu-burger-button").classList.add("custom-darkmode");
            document.getElementById("nav-id").classList.add("custom-darkmode");
        }
            darkmode.toggle();
    }

    // Mobile Button öffnen/schließen
    const mobileBtn = document.getElementById("mobile-menu-burger-button");
    nav = document.querySelector("nav"); // does the same but without the ID
    mobileBtnExit = document.getElementById("mobile-exit");
    
    mobileBtn.addEventListener("click", () => {
        nav.classList.remove("hide-mobile-nav");
        nav.classList.add("show-mobile-nav");
    })

    mobileBtnExit.addEventListener("click", () => {
        nav.classList.remove("show-mobile-nav");
        nav.classList.add("hide-mobile-nav");
    })
</script>