<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Franz Lisdat</title>
    <link rel="stylesheet" href="css/agent-optionen.css">
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js"> </script>

</head>
<body>
    <div class="navbar">
        <div class="container">
            <a class="logo" href="index.html">Franz <span>Lisdat</span></a>

            <img id="mobile-cta" class="mobile-menu" src="images/menu.svg" alt="open-navigation">
          
            <nav>
                <img src="images/exit.svg" id="mobile-exit" class="mobile-menu-exit" alt="exit-navigation">
                <ul class="primary-nav">
                    <li class="current"><a href="/index.html">Home</a></li>
                    <li><a href="/agent.html">Agent</a></li>
                    <li><a href="/index.html">Kontakt</a></li>
                </ul>
                <ul class="secondary-nav">
                    <li><a href="index.html">DE/EN</a></li>
                    <li class="lightdark"><a href="index.html">Light/DarkMode</a></li>
                </ul>
            </nav>
        </div>
    </div>

    <section class="hero">
        <h1>Start!</h1>
 
            <p>
            <span id="result"></span>
            </p>
    </section>

    <div class="wrapper">
        <div class="profile">
           <table id= "userdata" border="2">
              <tbody>
        
              </tbody>
           </table>
        </div>
    </div>
  
    


    <script>

        var Spieleranzahl = localStorage.getItem("numberValue");
        document.getElementById("result").innerHTML = Spieleranzahl;

        const mobileBtn = document.getElementById("mobile-cta");
        nav = document.querySelector("nav"); // does the same but without the ID
        mobileBtnExit = document.getElementById("mobile-exit");
        
        mobileBtn.addEventListener("click", () => {
            nav.classList.add("menu-btn");
        })

        mobileBtnExit.addEventListener("click", () => {
            nav.classList.remove("menu-btn");
        })
        
        $(function() {
        var people = [];
            $.getJSON('datenbank.json', function(data) {
                var randomNumber = Math.floor(Math.random() * data.ort.length);
                var spielOrtString = Object.keys(data.ort[randomNumber]);
                var personen = data["ort"][randomNumber][spielOrtString];

                console.log("Random Nummer ist: " + randomNumber + " | Der Ort ist: " + spielOrtString);
                //console.log(personen["person"][0].bezeichnung);

                //console.log(personen.person.length);
                console.log("Spieleranzahl ist: " + Spieleranzahl);
                for (let i = 0; i<Spieleranzahl-1;i++){
                    var randomNumberFuerPerson = Math.floor(Math.random() * personen.person.length);
                    console.log("Person Nr: " + (i+1) + " ZufÃ¤llige Zahl ist: " + randomNumberFuerPerson);
                    var bezeichnung = personen.person[randomNumberFuerPerson].bezeichnung;
                    console.log(bezeichnung);
                    personen.person.splice(randomNumberFuerPerson,1);
                    //console.log("Verbleibende im Array sind: " + personen.person.length);
                    var tblRow = "<tr>" + "<td>" + "Rolle: " + bezeichnung + "</td>" + "</tr>" + $(tblRow).appendTo("#userdata tbody");
 
                //console.log(personen.person[i].bezeichnung); 
               }
             });

        });
    </script>
</body>

</html>
